var Wptl_El_Sp={timelines_hoz:function(){return jQuery(window).resize(function(){jQuery(".horizontal-timeline:not(.ex-multi-item)").each(function(){var o=jQuery(this);setTimeout(function(){var e=o.data("id"),t=jQuery("#"+e+" ul.horizontal-nav li.ex_s_lick-current"),i=t.offset(),l=jQuery("#"+e+" .horizontal-nav").offset(),a=t.width(),s=i.left-l.left+a/2;jQuery("#"+e+" .timeline-pos-select").css("width",s)},200)})}),jQuery(".horizontal-timeline:not(.ex-multi-item)").each(function(){if(!jQuery(this).hasClass("hoz-at")){jQuery(this).addClass("hoz-at");var e=jQuery(this);e.hasClass("tl-hozsteps")&&(s=!1);e.data("layout");var c=e.data("id"),p=e.data("count"),u=e.data("slidesshow");""==u&&(u=3);var t=e.data("arrowpos"),i=(0<e.data("startit")&&e.data("startit"),e.data("autoplay")),l=e.data("speed"),a=e.data("rtl"),n=0<e.data("start_on")?e.data("start_on"):0;if("0"==e.data("infinite"))var h=0;else h="yes"==e.data("infinite")||"1"==e.data("infinite");var s=e.data("center");jQuery("#"+c+" .horizontal-content").on("beforeChange",function(e,t,i,l){if(1==h||0==h){$indx=t.currentSlide;var a=jQuery("#"+c+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]');a.prevAll().addClass("prev_item"),a.removeClass("prev_item"),a.nextAll().removeClass("prev_item")}else $li_curr=l+1,jQuery("#"+c+" .horizontal-nav li.ex_s_lick-slide:nth-child("+$li_curr+")").prevAll().addClass("prev_item"),jQuery("#"+c+" .horizontal-nav li.ex_s_lick-slide:nth-child("+$li_curr+")").nextAll().removeClass("prev_item")}).on("afterChange",function(e,t,i,l){if(1==h){$indx=t.currentSlide;var a=jQuery("#"+c+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]');if(p==u){var s=a.offset(),o=jQuery("#"+c+" .horizontal-nav").offset(),r=a.width(),n=s.left-o.left+r/2;jQuery("#"+c+" .timeline-pos-select").css("width",n)}}else{$indx=t.currentSlide,0==$indx&&0==h&&jQuery("#"+c).resize();for(var d=0;d<t.$slides.length;d++){if((a=jQuery(t.$slides[d])).hasClass("ex_s_lick-current")){$pos_c=d+1;s=(a=jQuery("#"+c+" ul.horizontal-nav li:nth-child("+$pos_c+")")).offset(),o=jQuery("#"+c+" .horizontal-nav").offset(),r=a.width(),n=s.left-o.left+r/2;jQuery("#"+c+" .timeline-pos-select").css("width",n);break}}}a.prevAll().addClass("prev_item"),a.removeClass("prev_item"),a.nextAll().removeClass("prev_item")}).EX_ex_s_lick({infinite:h,speed:""!=l?l:250,initialSlide:n,rtl:"yes"==a,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,autoplay:1==i&&p<=u,arrows:"top"!=t,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',fade:!0,asNavFor:"#"+c+" .horizontal-nav"}),jQuery("#"+c+" .horizontal-nav").on("init",function(e,t,i){if(""!=n&&jQuery.isNumeric(n))(l=jQuery(t.$slides[n])).addClass("ex_s_lick-current"),jQuery(t.$slides[0]).removeClass("ex_s_lick-current"),l.nextAll().removeClass("prev_item"),l.prevAll().addClass("prev_item");else var l=jQuery(t.$slides[0]);if(l.hasClass("ex_s_lick-current"))var a=l.offset(),s=jQuery("#"+c+" .horizontal-nav").offset(),o=l.width(),r=a.left-s.left+o/2;jQuery("#"+c+" .timeline-pos-select").css("width",r),1!=h&&0!=h||($indx=t.currentSlide,(l=jQuery("#"+c+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]')).prevAll().addClass("prev_item"),l.removeClass("prev_item"),l.nextAll().removeClass("prev_item"))}).EX_ex_s_lick({infinite:h,speed:""!=l?l:250,initialSlide:n,rtl:"yes"==a,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',slidesToShow:u,slidesToScroll:1,asNavFor:"#"+c+" .horizontal-content",dots:!1,autoplay:1==i,autoplaySpeed:""!=l?l:3e3,arrows:"top"==t,centerMode:"left"!=s,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:u,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}}),this},timelines_hoz_multi:function(){return jQuery(".horizontal-timeline.ex-multi-item").each(function(){var e=jQuery(this);if(!jQuery(this).hasClass("hoz-at")){jQuery(this).addClass("hoz-at");var t=e.data("id"),i=e.data("slidesshow");""==i&&(i=3);0<e.data("startit")&&e.data("startit");var l=e.data("autoplay"),a=e.data("speed"),s=e.data("rtl"),o=0<e.data("start_on")?e.data("start_on"):0;if("0"==e.data("infinite"))var r=0;else r="yes"==e.data("infinite")||"1"==e.data("infinite");$resps=[{breakpoint:1024,settings:{slidesToShow:i,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:jQuery("#"+t+" .horizontal-sl-2").length?2:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:jQuery("#"+t+" .horizontal-sl-2").length?2:1,slidesToScroll:1}}],jQuery("#"+t+" .horizontal-nav").EX_ex_s_lick({infinite:r,initialSlide:o,rtl:"yes"==s,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',slidesToShow:i,slidesToScroll:1,dots:!1,autoplay:1==l,autoplaySpeed:""!=a?a:3e3,arrows:!0,centerMode:!1,focusOnSelect:!0,adaptiveHeight:!0,asNavFor:jQuery("#"+t+" .horizontal-sl-2").length?"#"+t+" .horizontal-sl-2":"",responsive:$resps}),jQuery("#"+t+" .horizontal-sl-2").length&&jQuery("#"+t+" .horizontal-sl-2").EX_ex_s_lick({infinite:r,initialSlide:o,rtl:"yes"==s,slidesToShow:i,slidesToScroll:1,dots:!1,arrows:!1,centerMode:!1,focusOnSelect:!0,adaptiveHeight:!0,asNavFor:"#"+t+" .extl-nav",responsive:$resps})}}),this}};jQuery(document).ready(function(p){function u(){if(p(".extllightbox").length)return p(".extllightbox").each(function(){var e=p(this).data("class");GLightbox(),GLightbox({selector:e,moreLength:0,touchNavigation:!0,type:"inline",lightboxHtml:'<div id="glightbox-body" class="extl-lb glightbox-container">\t\t\t\t      <div class="gloader visible"></div>\t\t\t\t      <div class="goverlay"></div>\t\t\t\t      <div class="gcontainer">\t\t\t\t         <div id="glightbox-slider" class="gslider"></div>\t\t\t\t         <a class="gnext"></a>\t\t\t\t         <a class="gprev"></a>\t\t\t\t         <a class="gclose"></a>\t\t\t\t      </div>\t\t\t\t  </div>'})}),!1}function n(){p(".wpex-timeline-list.wpex-infinite").each(function(){var e=jQuery(this).attr("id");if(p("#"+e+" .wpex-loadmore a.loadmore-timeline").length){var t=p("#"+e+" .wpex-loadmore a.loadmore-timeline");!function(e){var t=jQuery(window).scrollTop(),i=t+jQuery(window).height(),l=jQuery(e).offset().top;return l+jQuery(e).height()<=i+200&&t<=l}("#"+e+" .wpex-loadmore a.loadmore-timeline")||t.hasClass("loading")||p("#"+e+" .wpex-loadmore").hasClass("hidden")||t.trigger("click")}})}function h(){if(p(".extl-gallery-carousel").length){var e=p(".wpex-timeline-list").data("rtl");p(".extl-gallery-carousel:not(.glled)").EX_ex_s_lick({dots:!0,slidesToShow:1,infinite:!0,speed:500,fade:!0,cssEase:"linear",adaptiveHeight:!0,arrows:!0,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',rtl:"yes"==e}),p(".extl-gallery-carousel").addClass("glled"),p(".wpex-timeline-list:not(.wptl-lightbox) .extl-gallery-carousel").on("click",function(e){e.stopPropagation()})}}function m(){var o=p(this);p(".wpex-timeline-list").each(function(){var l=jQuery(this).attr("id"),e=p(this),t=e.offset().top,i=t+e.height();t-=200,i=i,p(document).scrollTop()>=t&&p(document).scrollTop()<=i?p("#"+l+" .wpex-filter").addClass("active"):p("#"+l+" .wpex-filter").removeClass("active");var a=p(window).height(),s=.3*a;o.scrollTop(),p("#"+l+" ul li").each(function(){var e=p(this).data("id"),t=p(this).offset().top-p(window).scrollTop();p(this).height(),s<=t?p("#"+e).removeClass("active"):p("#"+e).addClass("active");var i=p("#"+l).data("animations");""!=i&&t<.7*a&&(p(this).children(":first").removeClass("scroll-effect").addClass(i+" animated"),p(this).find(".extl-gallery-carousel:not(.glled)").length&&(p(this).find(".extl-gallery-carousel:not(.glled)").EX_ex_s_lick({dots:!0,slidesToShow:1,infinite:!0,speed:500,fade:!0,cssEase:"linear",adaptiveHeight:!0,arrows:!0,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',rtl:!1}),p(this).find(".extl-gallery-carousel").addClass("glled")))})})}function l(i,e){var t=p("#"+i+" input[name=ajax_url]").val(),l=p("#"+i+" input[name=param_shortcode]").val();p("#"+i).addClass("loading"),p("#"+i+" ul.wpex-timeline li").fadeOut(300,function(){p(this).remove()}),p("#"+i+" input[name=num_page_uu]").val(1),p("#"+i+" input[name=current_page]").val(1),p("#"+i+" .wpex-tltitle.wpex-loadmore .yft").remove();var a={action:"wpex_filter_taxonomy",taxonomy_id:e,param_shortcode:l};p.ajax({type:"post",url:t,dataType:"json",data:a,success:function(e){if("0"!=e){if(""==e)p("#"+i+" .wpex-loadmore.lbt").addClass("hidden");else{var t=p("#"+i+" ul.wpex");t.html(""),t.append(e.html_content),p("#"+i+" .wpex-filter:not(.year-ft) div span").remove(),p("#"+i+" .wpex-filter:not(.year-ft) div").append(e.date),setTimeout(function(){p("#"+i+" ul.wpex > li").addClass("active")},200),p("#"+i).removeClass("loading"),p("#"+i+" input[name=param_query]").val(JSON.stringify(e.data_query))}1!=e.more?(p("#"+i).addClass("no-more"),p("#"+i+" .wpex-loadmore.lbt").addClass("hidden")):p("#"+i).removeClass("no-more"),u(),m(),h(),p(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*p(".wpex-timeline-list .wpex-filter").width())}else p(".row.loadmore").html("error")}})}u(),h(),p(".wpex-filter:not(.year-ft)").on("click","div span",function(){var e=jQuery(this).attr("id"),t=p(window).height();p("html,body").animate({scrollTop:p("."+e).offset().top-.2*t},"slow")}),p(".wpex-timeline-list").length&&(m(),n(),p(document).scroll(function(){m(),n()})),p(".wpex-filter.year-ft").on("click","div span",function(){var i=p(this),e=jQuery(this).data("id");p("#timeline-"+e).addClass("loading no-more");var l="timeline-"+e;p("#"+l+" .wpex-filter.year-ft div span").removeClass("active"),i.addClass("active");var t=jQuery(this).data("value"),a="";p("#"+l+" .wpex-taxonomy-filter li a.active").length&&(a=p("#"+l+" .wpex-taxonomy-filter li a.active").data("value"));var s=p("#timeline-"+e+" input[name=ajax_url]").val(),o=p("#timeline-"+e+" input[name=param_shortcode]").val();p("#"+l+" .wpex-loadmore.lbt").addClass("hidden"),p("#timeline-"+e+" ul.wpex-timeline li").fadeOut(300,function(){p(this).remove()});var r={action:"wpex_filter_year",taxonomy_id:t,mult:a,param_shortcode:o};return p.ajax({type:"post",url:s,dataType:"json",data:r,success:function(e){if("0"!=e){if(""!=e){var t=p("#"+l+" ul.wpex");t.html(""),""!=e.html_content?(p("#"+l+" .wpex-tltitle.wpex-loadmore").prepend('<span class="yft">'+i.html()+"</span>"),p("#"+l+" .wpex-loadmore:not(.lbt)").removeClass("hidden"),t.append(e.html_content)):(p("#"+l+" .wpex-loadmore").addClass("hidden"),t.append('<h2 style="text-align: center;">'+e.massage+"</h2>")),setTimeout(function(){p("#"+l+" ul.wpex > li").addClass("active")},200),p("#"+l).removeClass("loading")}m(),n(),h(),p(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*p(".wpex-timeline-list .wpex-filter").width())}else p(".row.loadmore").html("error")}}),!1}),p(".wpex-taxonomy-filter").on("click","li",function(){var e=p(this),t="timeline-"+jQuery(this).data("id");p("#"+t+" .wpex-taxonomy-filter li").removeClass("active"),p("#"+t+" .wpex-taxonomy-filter li").removeClass("crr-at"),p("#"+t+" .wpex-filter.year-ft div span").removeClass("active"),p("#"+t+" .wpex-loadmore").removeClass("hidden"),e.addClass("active crr-at"),e.parents("li").addClass("active");var i=jQuery(this).data("value");return p("#"+t+" .wpex-taxonomy-select option[value='"+i+"']").attr("selected","selected"),l(t,i),!1}),p(".wptl-filter-box select[name=wpex_taxonomy]").on("change",function(e){e.preventDefault(),p(this);var t="timeline-"+jQuery(this).find(":selected").data("id"),i=jQuery(this).find(":selected").val();return p("#"+t+" .wpex-taxonomy-filter li").removeClass("active"),p("#"+t+" .wpex-taxonomy-filter li[data-value='"+i+"']").addClass("active"),p("#"+t+" .wpex-taxonomy-filter li[data-value='"+i+"']").parents("li").addClass("active"),l(t,i),!1}),p(".loadmore-timeline").on("click",function(){var t=p(this);t.addClass("disable-click");var i=t.data("id"),l=p("#"+i+" input[name=num_page_uu]").val();p("#"+i+" .loadmore-timeline").addClass("loading");var e=p("#"+i+" input[name=param_query]").val(),a=p("#"+i+" input[name=current_page]").val(),s=p("#"+i+" input[name=num_page]").val(),o=p("#"+i+" input[name=ajax_url]").val(),r=p("#"+i+" input[name=param_shortcode]").val(),n="",d=t.data("tl_language");p("#"+i+" li:last-child > input.crr-year").length&&(n=p("#"+i+" li:last-child > input.crr-year").val());var c={action:"wpex_loadmore_timeline",param_query:e,page:1*a+1,param_shortcode:r,param_year:n,lang:d};return p.ajax({type:"post",url:o,dataType:"json",data:c,success:function(e){"0"!=e?(l=1*l+1,p("#"+i+" input[name=num_page_uu]").val(l),""==e.html_content?p("#"+i+" .wpex-loadmore.lbt").addClass("hidden"):(p("#"+i+" input[name=current_page]").val(1*a+1),p("#"+i+" ul.wpex").append(e.html_content),p("#"+i+" .wpex-filter:not(.year-ft) div").append(e.date),setTimeout(function(){p("#"+i+" ul.wpex > li").addClass("active")},200)),l==s&&(p("#"+i).addClass("no-more"),p("#"+i+" .wpex-loadmore.lbt").addClass("hidden")),m(),u(),h(),p(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*p(".wpex-timeline-list .wpex-filter").width()),p("#"+i+" .loadmore-timeline").removeClass("loading"),t.removeClass("disable-click")):p(".row.loadmore").html("error")}}),!1}),p(".wpex-timeline-list .wpex-filter").css("right",-1*p(".wpex-timeline-list .wpex-filter").width()),p(".wpex-timeline-list .wpex-filter > .fa").on("click",function(){var e=p(this).data("id");p("#"+e+" .wpex-filter").hasClass("show-filter")?(p("#"+e+" .wpex-filter").removeClass("show-filter"),p("#"+e+" .wpex-filter").css("right",-1*p(".wpex-timeline-list .wpex-filter").width())):(p("#"+e+" .wpex-filter").addClass("show-filter"),p("#"+e+" .wpex-filter").css("right",0))}),p(".wpex-timeline-list").each(function(){var e=p(this),t=e.attr("id");p(e).hasClass("wptl-lightbox")&&(p("#"+t).hasClass("left-tl")&&p("#"+t).hasClass("show-icon")&&!p("#"+t).hasClass("show-box-color")?p("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .wpex-content-left > a",useHistoryApi:!0}):p("#"+t).hasClass("show-clean")?p("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:" .wpex-timeline-label > a",useHistoryApi:!0}):p("#"+t).hasClass("show-wide_img")||p("#"+t).hasClass("show-simple-bod")||p("#"+t).hasClass("show-box-color")?p("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:" .timeline-details > a",useHistoryApi:!0}):p("#"+t).hasClass("left-tl")||p("#"+t).hasClass("center-tl")&&!p("#"+t).hasClass("show-icon")&&!p("#"+t).hasClass("sidebyside-tl")?p("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .wpex-timeline-time > a",useHistoryApi:!0}):p("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .timeline-details > a",useHistoryApi:!0}),p("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .extl-gallery-carousel a",useHistoryApi:!0}))}),Wptl_El_Sp.timelines_hoz_multi(),p(".horizontal-timeline:not(.ex-multi-item) ul.horizontal-nav li").on("click",function(){p(this).prevAll().addClass("prev_item"),p(this).nextAll().removeClass("prev_item")}),Wptl_El_Sp.timelines_hoz()});